<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Coleção Maisto</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
    body {
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, sans-serif;
      margin: 0;
      background: #f8fafc;
      color: #111827;
    }
    .card:hover {
      transform: scale(1.03);
      box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
    }
    .collected-card {
      border: 4px solid #10b981;
    }
  </style>
</head>
<body>

<div id="root"></div>

<script type="text/babel">
  const { useState, useEffect, useCallback } = React;

  const initialMiniaturesByBrand = {
    Audi: [
      { id: 1, name: "Audi TT Roadster", image: "img/audi/audi-tt-roadster-01.jpg" },
      { id: 2, name: "Audi TT Roadster", image: "img/audi/audi-tt-roadster-02.jpg" },
      { id: 3, name: "Audi TT Roadster", image: "img/audi/audi-tt-roadster-03.jpg" },
      { id: 4, name: "Audi A8 Avant", image: "img/audi/audi-a8-01.png" },
      { id: 5, name: "Audi A8 Avant", image: "img/audi/audi-a8-02.png" },
    ],
    BMW: [
      { id: 1, name: "BMW Z3", image: "img/bmw/BMW-Z3-01.jpg" },
      { id: 14, name: "BMW Z3", image: "img/bmw/BMW-Z3-02.jpg" },
      { id: 2, name: "BMW Z3", image: "img/bmw/BMW-Z3-03.jpg" },
      { id: 3, name: "BMW 135i Coupe", image: "img/bmw/BMW_135i_coupe_azul.jpg" },
      { id: 4, name: "BMW 135i Coupe", image: "img/bmw/BMW_135i_coupe_cinza.jpg" },
      { id: 5, name: "BMW 1 Series Coupe", image: "img/bmw/BMW_1_Series_Coupe_amarelo.jpg" },
      { id: 6, name: "BMW 1 Series Coupe", image: "img/bmw/BMW_1_Series_Coupe_azul.jpg" },
      { id: 7, name: "BMW 1 Series Coupe", image: "img/bmw/BMW_1_Series_Coupe_cinza.jpg" },
      { id: 8, name: "BMW X6", image: "img/bmw/BMW_X6.jpg" },
      { id: 9, name: "BMW Z4", image: "img/bmw/BMW_Z4.png" },
      { id: 10, name: "BMW Z8", image: "img/bmw/BMW_Z8.jpg" },
      { id: 11, name: "BMW Z8", image: "img/bmw/BMW_Z8_01.jpg" },
      { id: 12, name: "BMW Z8", image: "img/bmw/BMW_Z8_02.png" },
      { id: 13, name: "BMW Z8", image: "img/bmw/BMW_Z8_03.jpg" },
      { id: 15, name: "BMW 328", image: "img/bmw/bmw328i_2007.jpg" },
      { id: 16, name: "BMW i8", image: "img/bmw/bmw_3_series_m3.jpg" },
      { id: 17, name: "BMW 3 Series M3", image: "img/bmw/bmw_3_series_m3_preto.jpg" },
      { id: 18, name: "BMW 6 Series 1", image: "img/bmw/bmw_6_series_1.jpg" },
    ],
    Buick: [
      { id: 1, name: "Buick", image: "img/bmw/01.jpg" },
      { id: 2, name: "Buick", image: "img/bmw/02.jpg" },
    ], 
    Cadillac: [
      { id: 1, name: "Cadillac", image: "img/bmw/01.jpg" },
      { id: 2, name: "Cadillac", image: "img/bmw/02.jpg" },
    ], 
    Chevrolet: [
      { id: 1, name: "Chevrolet", image: "img/chevrolet/01.jpg" },
      { id: 2, name: "Chevrolet", image: "img/chevrolet/02.jpg" },
    ],
    Chrysler: [
      { id: 1, name: "Chrysler", image: "img/bmw/01.jpg" },
      { id: 2, name: "Chrysler", image: "img/bmw/02.jpg" },
    ], 
    Dodge: [
      { id: 1, name: "Dodge", image: "img/bmw/01.jpg" },
      { id: 2, name: "Dodge", image: "img/bmw/02.jpg" },
    ],
    Fantasia: [
      { id: 1, name: "Fantasia", image: "img/bmw/01.jpg" },
      { id: 2, name: "Fantasia", image: "img/bmw/02.jpg" },
    ],
    Ford: [
      { id: 1, name: "Ford", image: "img/ford/01.jpg" },
      { id: 2, name: "Ford", image: "img/ford/02.jpg" },
    ],
    Honda: [
      { id: 1, name: "Honda", image: "img/bmw/01.jpg" },
      { id: 2, name: "Honda", image: "img/bmw/02.jpg" },
    ], 
    Hummer: [
      { id: 1, name: "Hummer", image: "img/bmw/01.jpg" },
      { id: 2, name: "Hummer", image: "img/bmw/02.jpg" },
    ], 
    Jaguar: [
      { id: 1, name: "Jaguar", image: "img/bmw/01.jpg" },
      { id: 2, name: "Jaguar", image: "img/bmw/02.jpg" },
    ], 
    Jeep: [
      { id: 1, name: "Jeep", image: "img/bmw/01.jpg" },
      { id: 2, name: "Jeep", image: "img/bmw/02.jpg" },
    ],
    Lamborghini: [
      { id: 1, name: "Lamborghini Aventador", image: "img/lamborghini/01.jpg" },
      { id: 2, name: "Lamborghini", image: "img/bmw/02.jpg" },
    ],
    Lexus: [
      { id: 1, name: "Lexus", image: "img/bmw/01.jpg" },
      { id: 2, name: "Lexus", image: "img/bmw/02.jpg" },
    ],
    Mercedez: [
      { id: 1, name: "Mercedez", image: "img/bmw/01.jpg" },
      { id: 2, name: "Mercedez", image: "img/bmw/02.jpg" },
    ], 
    Plymouth: [
      { id: 1, name: "Plymouth", image: "img/bmw/01.jpg" },
      { id: 2, name: "Plymouth", image: "img/bmw/02.jpg" },
    ],
    Pontiac: [
      { id: 1, name: "Pontiac", image: "img/bmw/01.jpg" },
      { id: 2, name: "Pontiac", image: "img/bmw/02.jpg" },
    ], 
    Porsche: [
     { id: 1, name: "Porsche 911 GT3", image: "img/porsche/01.jpg" },
     { id: 2, name: "Porsche", image: "img/bmw/02.jpg" },
    ],
    Serviço: [
      { id: 1, name: "Serviço", image: "img/bmw/01.jpg" },
      { id: 2, name: "Serviço", image: "img/bmw/02.jpg" },
    ],
    Toyota: [
      { id: 1, name: "Toyota", image: "img/bmw/01.jpg" },
      { id: 2, name: "Toyota", image: "img/bmw/02.jpg" },
    ],
    Trailer: [
      { id: 1, name: "Trailer", image: "img/bmw/01.jpg" },
      { id: 2, name: "Trailer", image: "img/bmw/02.jpg" },
    ],
    Trucks: [
      { id: 1, name: "Trucks", image: "img/bmw/01.jpg" },
      { id: 2, name: "Trucks", image: "img/bmw/02.jpg" },
    ], 
    VolksWagen: [
      { id: 1, name: "VolksWagen", image: "img/bmw/01.jpg" },
      { id: 2, name: "VolksWagen", image: "img/bmw/02.jpg" },
    ],
    Outros: [
      { id: 1, name: "Outros", image: "img/bmw/01.jpg" },
      { id: 2, name: "Outros", image: "img/bmw/02.jpg" },
    ],
  };

  const brandsList = [
    "Audi","BMW","Buick","Cadillac","Chevrolet","Chrysler",
    "Dodge","Fantasia","Ford","Honda","Hummer","Jaguar",
    "Jeep","Lamborghini","Lexus","Mercedez","Plymouth",
    "Pontiac","Porsche","Serviço","Toyota","Trailer",
    "Trucks","VolksWagen","Outros"
  ].sort();

  const LOCAL_STORAGE_KEY_COLLECTION = "maistoCollectionData";
  const LOCAL_STORAGE_KEY_LOCKED = "maistoLockedData";

  const getInitialCollection = () => JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_COLLECTION) || "{}");
  const getInitialLockedItems = () => JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_LOCKED) || "{}");

  function App() {
    const [selectedBrand, setSelectedBrand] = useState(null);
    const [miniaturesByBrand] = useState(initialMiniaturesByBrand);
    const [collection, setCollection] = useState(getInitialCollection);
    const [lockedItems, setLockedItems] = useState(getInitialLockedItems);

    useEffect(() => localStorage.setItem(LOCAL_STORAGE_KEY_COLLECTION, JSON.stringify(collection)), [collection]);
    useEffect(() => localStorage.setItem(LOCAL_STORAGE_KEY_LOCKED, JSON.stringify(lockedItems)), [lockedItems]);

    const toggleMiniature = useCallback((brand, id) => {
      setCollection(prev => {
        const updated = { ...prev };
        const brandData = { ...updated[brand] };
        brandData[id] = !brandData[id];
        if (!brandData[id]) delete brandData[id];
        if (Object.keys(brandData).length === 0) delete updated[brand];
        else updated[brand] = brandData;
        return updated;
      });
    }, []);

    const toggleLockAll = useCallback((brand) => {
      setLockedItems(prev => {
        const updated = { ...prev };
        const current = updated[brand] || {};
        const isAnyUnlocked = Object.keys(current).length !== (miniaturesByBrand[brand]?.length || 0);
        if (isAnyUnlocked) {
          const newLocks = {};
          (miniaturesByBrand[brand] || []).forEach(m => { newLocks[m.id] = true; });
          updated[brand] = newLocks;
        } else {
          delete updated[brand];
        }
        return updated;
      });
    }, [miniaturesByBrand]);

    const BackgroundWrapper = ({ children }) => (
      <div className="min-h-screen bg-cover bg-center flex flex-col items-center justify-start text-white p-4"
        style={{ backgroundImage: "url('img/alemed.png')", backgroundAttachment: "fixed" }}>
        <div className="bg-black/70 w-full h-full flex flex-col items-center justify-start p-6 rounded-xl max-w-6xl mx-auto shadow-2xl min-h-[90vh] md:min-h-[95vh]">
          {children}
        </div>
      </div>
    );

    if (!selectedBrand) {
      return (
        <BackgroundWrapper>
          <h1 className="text-4xl font-extrabold text-center mb-4 text-purple-400">Coleção Maisto</h1>
          <p className="mb-8 text-center text-gray-300">Selecione a marca para visualizar sua coleção.</p>
          <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 w-full max-w-5xl">
            {brandsList.map((brand) => (
              <div key={brand} onClick={() => setSelectedBrand({ brand })}
                className="bg-white/10 shadow-lg rounded-xl p-3 flex flex-col items-center justify-center border border-purple-500/50 card h-24">
                <h3 className="text-xl font-bold text-purple-300 text-center">{brand}</h3>
              </div>
            ))}
          </div>
        </BackgroundWrapper>
      );
    }

    const { brand } = selectedBrand;
    const miniatures = miniaturesByBrand[brand] || [];
    const currentCollection = collection[brand] || {};
    const currentLocked = lockedItems[brand] || {};
    const allLocked = Object.keys(currentLocked).length === miniatures.length && miniatures.length > 0;

    return (
      <BackgroundWrapper>
        <div className="w-full flex justify-between items-center mb-6">
          <button onClick={() => setSelectedBrand(null)}
            className="flex items-center gap-2 px-4 py-2 text-sm bg-purple-600 text-white font-semibold rounded-lg shadow-lg hover:bg-purple-700 active:scale-95 transition">
            <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
              <path strokeLinecap="round" strokeLinejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
            Voltar
          </button>
          {miniatures.length > 0 && (
            <button
              onClick={() => toggleLockAll(brand)}
              className={
                (allLocked
                  ? "bg-red-600 text-white hover:bg-red-700"
                  : "bg-gray-200 text-gray-800 hover:bg-gray-300") +
                " px-4 py-2 text-sm font-semibold rounded-lg shadow-lg transition"
              }>
              {allLocked ? 'Desbloquear Todos' : 'Bloquear Todos'}
            </button>
          )}
        </div>

        <h2 className="text-4xl font-extrabold text-purple-400 mb-6 text-center">Coleção Maisto - {brand}</h2>

        {miniatures.length === 0 ? (
          <p className="text-gray-200">Nenhuma miniatura cadastrada para esta marca ainda.</p>
        ) : (
          <div className="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 w-full">
            {miniatures.map((mini) => {
              const isCollected = currentCollection[mini.id];
              const isLocked = currentLocked[mini.id];
              return (
                <div key={mini.id} className={"bg-white shadow-xl rounded-xl p-3 flex flex-col items-center justify-between " + (isCollected ? "collected-card" : "border border-gray-200")}>
                  <div className="w-full h-[120px] bg-gray-200 rounded-lg mb-2 flex items-center justify-center overflow-hidden">
                    {mini.image ? (
                      <img src={mini.image} alt={mini.name} className="object-contain w-full h-full rounded-lg"
                        onError={(e) => { e.target.onerror = null; e.target.src = 'https://placehold.co/225x120/f3f4f6/333?text=ERRO+IMG'; }} />
                    ) : <span className="text-gray-400 text-sm font-medium">Foto</span>}
                  </div>
                  <p className="text-gray-800 text-xs sm:text-sm font-semibold text-center mt-1 mb-2">{mini.name}</p>
                  <label
                    onClick={!isLocked ? () => toggleMiniature(brand, mini.id) : undefined}
                    className={"flex w-full justify-center gap-2 text-gray-800 text-sm font-medium p-2 rounded-lg " + (isLocked ? "bg-gray-200 cursor-not-allowed opacity-70" : "bg-gray-100 hover:bg-gray-200 cursor-pointer")}>
                    <input type="checkbox" checked={isCollected || false} disabled={isLocked} readOnly className="w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500" />
                    Tenho
                  </label>
                </div>
              );
            })}
          </div>
        )}
      </BackgroundWrapper>
    );
  }

  ReactDOM.createRoot(document.getElementById("root")).render(<App />);
</script>

</body>
</html>






